---
path: '/blog/react-formik-forms'
date: '2020-11-02'
title: 'Building React Forms: Using Formik and Yup'
subtitle: 'Build forms without tears. Formik is recommended by the React team as a complete solution and can handle validation, input bindings, as well as errors and state changes.'
featuredImage: './forms.jpg'
---

Sometimes managing forms in react can be a drag, Formik is here to your rescue,You can check the docs for more information about the library on [Formik](https://jaredpalmer.com/formik).

![](https://res.cloudinary.com/practicaldev/image/fetch/s--8lsOobIQ--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/i/n405vzvl1mfyyqo5mt1z.png)
 
> Build forms in react without tears

Formik’s website claims to help you with the most annoying issues of forms:

 1. Getting values in and out of form state
 2. Validation and error messages
 3. Handling form submission

After creating a few forms myself using Formik, I can see how these common issues just disappear. Form values are not stored in state so we don’t need to manually bind them to an input. Instead, Formik keys off the name attribute and does the binding automatically.

There are two ways to use Formik: 

  1. create a higher order component. `useFormik()`
  2. create a Formik component to wrap around your form. `<Formik/>`

When you wrap your form in a Formik component, the child is a function and not a component. This function takes one argument which is a variety of props Formik passes you to manage state. This helps reduce the boilerplate code involved in creating a form by providing the following default props: `handleSubmit`, `handleChange`, `initialValues`, `validation` and more.

Using Formik has allowed us to create our own reusable form components which were a large factor in our decision to use the library. It makes creating new forms painless and allows us to test them easily.

Finally, there is `Yup`. What is Yup? It is a JavaScript object schema validator and object parser. In this context Yup simply helps handle validation. This does not mean that you can’t write your own custom validator for Formik but I find my experience using Yup good and it improves the readability of my code.

More on Yup here in the docs [Yup](https://www.npmjs.com/package/yup).

Here is a quick overview of what we are going to do in this guide:

  1. Create a react app on codesandbox.
  2. Create a simple form with Material-UI and Formik.
  3. Write validation rules/ validation schema with Yup.
  4. Use Yup with Formik.

This tutorial assumes you have knowledge of react.

## Getting Started

## 1. Create a react app on codesandbox.

There is a code sandbox demo of the Mpesa payment form we are going to build here:
[Formik Demo Application](https://codesandbox.io/s/mpesa-form-formikmaterial-p6fe8)

 ![Mpesa-payment]()

We also need to install Formik,Yup and material-UI to our dependencies.

     `$ Yarn add  formik yup @material-ui/core`

## 2. Create a simple form with Material-UI and Formik.

### Add material ui components

What we will do here is create a simple form with four fields (Name,PhoneNumber, Amount, Password) a Dialogue and a Button with material-UI.

Here is the codebase so far.

```javascript

import React,{useState} from 'react';
import Button from '@material-ui/core/Button';
import TextField from '@material-ui/core/TextField';
import Dialog from '@material-ui/core/Dialog';
import DialogActions from '@material-ui/core/DialogActions';
import DialogContent from '@material-ui/core/DialogContent';
import DialogContentText from '@material-ui/core/DialogContentText';
import DialogTitle from '@material-ui/core/DialogTitle';

export default function MpesaForm() {
  const [open, setOpen] = useState(false);

 //opens dialog
  const handleClickOpen = () => {
    setOpen(true);
  };

 // closes dialog
  const handleClose = () => {
    setOpen(false);
  };

  return (
    <div>
      <form >
      <h2 style={{marginLeft:"4rem"}}>
        MPesa form
      </h2>

       <div style={{margin:"1rem"}}>
        <TextField 
          variant="outlined" 
          label="Name" 
        />
        </div>

        <div style={{margin:"1rem"}}>
        <TextField
          label="Phonenumber"
          variant="outlined" 
        />
        </div>

        <div style={{margin:"1rem"}}>
        <TextField
          label="Amount"
          type="number"
          variant="outlined"
        />
        </div>

        <div style={{margin:"1rem"}}>
          <TextField
          label="Pin Number"
          type="password"
          variant="outlined"
          autoComplete="current-password"
        />
        </div>
      
      <div style={{marginLeft:"4rem"}}>
      <Button 
        variant="outlined" 
        style={{backgroundColor:"black",color:"white"}} 
        onClick={handleClickOpen}>
        send money
      </Button>
      </div>

      </form >

    //dialog popover
      <Dialog open={open} onClose={handleClose} aria-labelledby="form-dialog-title">
        <DialogTitle id="form-dialog-title">Thanks for using Mpesa</DialogTitle>
        <DialogContent>
          <DialogContentText>
            Mpesa money transaction to John Doe. If you would like to cancel this transaction, enter any number and press  OK.
          </DialogContentText>
          <TextField
            autoFocus
            margin="dense"
            id="name"
            label="Type number"
            type="email"
            fullWidth
          />
        </DialogContent>
        <DialogActions>
          <Button onClick={handleClose} color="primary">
            Cancel
          </Button>
          <Button onClick={handleClose} color="primary">
            Ok
          </Button>
        </DialogActions>
      </Dialog>
    </div>
  );
}
```
A quick look to understand what we have done on the `MpesaForm.js` file ;

At the top we are importing TextField,Button, Dialog features from material ui.

Then we have a state that will enable us to interact with the dialog i.e Closes `handleClose` and opens `handleClickOpen` popover dialog when a Button with the functionality is cliked.

Next we return a Header tag,4 Textfields and a Button wrapped in a form element.

### Add Formik

so far the form works, what we need to do next is form vaidation

## 3. Write validation rules/ validation schema with Yup.
## 4. Use Yup with Formik.

--------------------------------------------

## Conclusion

Formik is a great solution to try if your team will be working with multiple forms. It allows for quick development as well as the freedom to create your own form components. This library is trusted by the community and currently has over 250,000 weekly downloads.

Yup validation works really well with Formik and offers extensive API documentation.

If you have had issues in the past with forms or are just starting out I would highly recommend looking at these options. Reduce that amount of boilerplate code and make forms fun again!

## Takeaways
Formik is a great solution to try if your team will be working with multiple forms. It allows for quick development as well as the freedom to create your own form components. This library is trusted by the community and currently has over 250,000 weekly downloads.

Yup validation works really well with Formik and offers extensive API documentation.

If you have had issues in the past with forms or are just starting out I would highly recommend looking at these options. Reduce that amount of boilerplate code and make forms fun again!
